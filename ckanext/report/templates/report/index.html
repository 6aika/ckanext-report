{% extends "page.html" %}

{% block title %}{{ _('Reports') }} - {{ super() }}{% endblock %}

{% block breadcrumb_content %}
  {{ h.build_nav('reports', _('Reports')) }}
{% endblock %}

{% block page_header %}{% endblock %}

{% block primary_content_inner %}
  <div class="dataset">
    <ul class="media-grid masonry" data-module="media-grid" style="position: relative; height: 430px;">
      {% for report in reports %}
        <li class="media-item masonry-brick" style="position: absolute; top: 0px; left: 0px;">
          {% set report_url=h.url_for('report', report_name=report.name, **h.report__explicit_default_options(report.name)) %}
          <img src="/ckanext-report/placeholder-report.png" alt="{{ report.name }}" class="media-image">
          <h3 class="media-heading">{{ report.title }}</h3>
          {{ report.description }}
          <a href="{{ report_url }}" title="View {{ report.title }}" class="media-view">
            <span>View {{report.title}}</span>
          </a>
        </li>
      {% endfor %}
    </ul>
  </div>
{% endblock %}

{% block secondary_content %}
    <div class="module module-narrow module-shallow">
      <h2 class="module-heading">
        {{ _('Reports') }}
      </h2>
      <div class="module-content">
        <p>
          {% trans %}
          Reports provide deeper insight into the datasets on this site. They take a while to generate, so are generally refreshed nightly.
          {% endtrans %}
        </p>
      </div>
    </div>
{% endblock %}
